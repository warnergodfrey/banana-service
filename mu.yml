environments:
- name: test
  loadbalancer:
    hostedzone: aws.godfrey.io
  cluster:
    instanceType: t2.medium
    keyName: Warner
    desiredCapacity: 1
- name: production
  loadbalancer:
    hostedzone: aws.godfrey.io
  cluster:
    instanceType: t2.medium
    keyName: Warner
    desiredCapacity: 1
service:
  name: banana-service
  desiredCount: 1
  cpu: 1024
  memory: 1024
  port: 8080
  pathPatterns:
  - /bananas/*
  pipeline:
    source:
      provider: GitHub
      repo: warnergodfrey/banana-service
    build:
      image: aws/codebuild/java:openjdk-8
      computeType: BUILD_GENERAL1_MEDIUM
    acceptance:
      environment: test
      image: aws/codebuild/eb-nodejs-4.4.6-amazonlinux-64:2.1.3
      computeType: BUILD_GENERAL1_MEDIUM

