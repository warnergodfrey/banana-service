environments:
- name: acceptance
  discovery:
    provider: consul
  loadbalancer:
    hostedzone: aws.godfrey.io
  cluster:
    keyName: Warner
    desiredCapacity: 1
- name: production
  discovery:
    provider: consul
  loadbalancer:
    hostedzone: aws.godfrey.io
  cluster:
    keyName: Warner
    desiredCapacity: 1
service:
  name: banana-service
  desiredCount: 1
  port: 8080
  pathPatterns:
  - /bananas/*
  pipeline:
    source:
      provider: GitHub
      repo: warnergodfrey/banana-service
    build:
      image: aws/codebuild/java:openjdk-8
    acceptance:
      image: aws/codebuild/eb-nodejs-4.4.6-amazonlinux-64:2.1.3
extensions:
- url: mu-consul-agent

